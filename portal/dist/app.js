(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var Z,m,Ge,j,$e,Je,Qe,Ye,ge,ue,_e,Ze,K={},Xe=[],xt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,X=Array.isArray;function D(e,t){for(var r in t)e[r]=t[r];return e}function be(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function z(e,t,r){var i,s,l,o={};for(l in t)l=="key"?i=t[l]:l=="ref"?s=t[l]:o[l]=t[l];if(arguments.length>2&&(o.children=arguments.length>3?Z.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)o[l]===void 0&&(o[l]=e.defaultProps[l]);return V(e,o,i,s,null)}function V(e,t,r,i,s){var l={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++Ge,__i:-1,__u:0};return s==null&&m.vnode!=null&&m.vnode(l),l}function O(e){return e.children}function A(e,t){this.props=e,this.context=t}function R(e,t){if(t==null)return e.__?R(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?R(e):null}function et(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return et(e)}}function he(e){(!e.__d&&(e.__d=!0)&&j.push(e)&&!le.__r++||$e!=m.debounceRendering)&&(($e=m.debounceRendering)||Je)(le)}function le(){for(var e,t,r,i,s,l,o,u=1;j.length;)j.length>u&&j.sort(Qe),e=j.shift(),u=j.length,e.__d&&(r=void 0,i=void 0,s=(i=(t=e).__v).__e,l=[],o=[],t.__P&&((r=D({},i)).__v=i.__v+1,m.vnode&&m.vnode(r),ye(t.__P,r,i,t.__n,t.__P.namespaceURI,32&i.__u?[s]:null,l,s??R(i),!!(32&i.__u),o),r.__v=i.__v,r.__.__k[r.__i]=r,nt(l,r,o),i.__e=i.__=null,r.__e!=s&&et(r)));le.__r=0}function tt(e,t,r,i,s,l,o,u,d,c,p){var a,_,h,g,w,b,f,v=i&&i.__k||Xe,k=t.length;for(d=wt(r,t,v,d,k),a=0;a<k;a++)(h=r.__k[a])!=null&&(_=h.__i==-1?K:v[h.__i]||K,h.__i=a,b=ye(e,h,_,s,l,o,u,d,c,p),g=h.__e,h.ref&&_.ref!=h.ref&&(_.ref&&xe(_.ref,null,h),p.push(h.ref,h.__c||g,h)),w==null&&g!=null&&(w=g),(f=!!(4&h.__u))||_.__k===h.__k?d=rt(h,d,e,f):typeof h.type=="function"&&b!==void 0?d=b:g&&(d=g.nextSibling),h.__u&=-7);return r.__e=w,d}function wt(e,t,r,i,s){var l,o,u,d,c,p=r.length,a=p,_=0;for(e.__k=new Array(s),l=0;l<s;l++)(o=t[l])!=null&&typeof o!="boolean"&&typeof o!="function"?(d=l+_,(o=e.__k[l]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?V(null,o,null,null,null):X(o)?V(O,{children:o},null,null,null):o.constructor==null&&o.__b>0?V(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,u=null,(c=o.__i=kt(o,r,d,a))!=-1&&(a--,(u=r[c])&&(u.__u|=2)),u==null||u.__v==null?(c==-1&&(s>p?_--:s<p&&_++),typeof o.type!="function"&&(o.__u|=4)):c!=d&&(c==d-1?_--:c==d+1?_++:(c>d?_--:_++,o.__u|=4))):e.__k[l]=null;if(a)for(l=0;l<p;l++)(u=r[l])!=null&&!(2&u.__u)&&(u.__e==i&&(i=R(u)),st(u,u));return i}function rt(e,t,r,i){var s,l;if(typeof e.type=="function"){for(s=e.__k,l=0;s&&l<s.length;l++)s[l]&&(s[l].__=e,t=rt(s[l],t,r,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=R(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function B(e,t){return t=t||[],e==null||typeof e=="boolean"||(X(e)?e.some(function(r){B(r,t)}):t.push(e)),t}function kt(e,t,r,i){var s,l,o,u=e.key,d=e.type,c=t[r],p=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||p&&u==c.key&&d==c.type)return r;if(i>(p?1:0)){for(s=r-1,l=r+1;s>=0||l<t.length;)if((c=t[o=s>=0?s--:l++])!=null&&!(2&c.__u)&&u==c.key&&d==c.type)return o}return-1}function Se(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||xt.test(t)?r:r+"px"}function re(e,t,r,i,s){var l,o;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)r&&t in r||Se(e.style,t,"");if(r)for(t in r)i&&r[t]==i[t]||Se(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")l=t!=(t=t.replace(Ye,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=r,r?i?r.u=i.u:(r.u=ge,e.addEventListener(t,l?_e:ue,l)):e.removeEventListener(t,l?_e:ue,l);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function Pe(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ge++;else if(t.t<r.u)return;return r(m.event?m.event(t):t)}}}function ye(e,t,r,i,s,l,o,u,d,c){var p,a,_,h,g,w,b,f,v,k,y,$,T,W,x,L,H,S=t.type;if(t.constructor!=null)return null;128&r.__u&&(d=!!(32&r.__u),l=[u=t.__e=r.__e]),(p=m.__b)&&p(t);e:if(typeof S=="function")try{if(f=t.props,v="prototype"in S&&S.prototype.render,k=(p=S.contextType)&&i[p.__c],y=p?k?k.props.value:p.__:i,r.__c?b=(a=t.__c=r.__c).__=a.__E:(v?t.__c=a=new S(f,y):(t.__c=a=new A(f,y),a.constructor=S,a.render=$t),k&&k.sub(a),a.props=f,a.state||(a.state={}),a.context=y,a.__n=i,_=a.__d=!0,a.__h=[],a._sb=[]),v&&a.__s==null&&(a.__s=a.state),v&&S.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=D({},a.__s)),D(a.__s,S.getDerivedStateFromProps(f,a.__s))),h=a.props,g=a.state,a.__v=t,_)v&&S.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),v&&a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(v&&S.getDerivedStateFromProps==null&&f!==h&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(f,y),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(f,a.__s,y)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(a.props=f,a.state=a.__s,a.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(U){U&&(U.__=t)}),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[],a.__h.length&&o.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(f,a.__s,y),v&&a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(h,g,w)})}if(a.context=y,a.props=f,a.__P=e,a.__e=!1,T=m.__r,W=0,v){for(a.state=a.__s,a.__d=!1,T&&T(t),p=a.render(a.props,a.state,a.context),x=0;x<a._sb.length;x++)a.__h.push(a._sb[x]);a._sb=[]}else do a.__d=!1,T&&T(t),p=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++W<25);a.state=a.__s,a.getChildContext!=null&&(i=D(D({},i),a.getChildContext())),v&&!_&&a.getSnapshotBeforeUpdate!=null&&(w=a.getSnapshotBeforeUpdate(h,g)),L=p,p!=null&&p.type===O&&p.key==null&&(L=it(p.props.children)),u=tt(e,X(L)?L:[L],t,r,i,s,l,o,u,d,c),a.base=t.__e,t.__u&=-161,a.__h.length&&o.push(a),b&&(a.__E=a.__=null)}catch(U){if(t.__v=null,d||l!=null)if(U.then){for(t.__u|=d?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;l[l.indexOf(u)]=null,t.__e=u}else{for(H=l.length;H--;)be(l[H]);pe(t)}else t.__e=r.__e,t.__k=r.__k,U.then||pe(t);m.__e(U,t,r)}else l==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):u=t.__e=Ct(r.__e,t,r,i,s,l,o,d,c);return(p=m.diffed)&&p(t),128&t.__u?void 0:u}function pe(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(pe)}function nt(e,t,r){for(var i=0;i<r.length;i++)xe(r[i],r[++i],r[++i]);m.__c&&m.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(l){l.call(s)})}catch(l){m.__e(l,s.__v)}})}function it(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:X(e)?e.map(it):D({},e)}function Ct(e,t,r,i,s,l,o,u,d){var c,p,a,_,h,g,w,b=r.props,f=t.props,v=t.type;if(v=="svg"?s="http://www.w3.org/2000/svg":v=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),l!=null){for(c=0;c<l.length;c++)if((h=l[c])&&"setAttribute"in h==!!v&&(v?h.localName==v:h.nodeType==3)){e=h,l[c]=null;break}}if(e==null){if(v==null)return document.createTextNode(f);e=document.createElementNS(s,v,f.is&&f),u&&(m.__m&&m.__m(t,l),u=!1),l=null}if(v==null)b===f||u&&e.data==f||(e.data=f);else{if(l=l&&Z.call(e.childNodes),b=r.props||K,!u&&l!=null)for(b={},c=0;c<e.attributes.length;c++)b[(h=e.attributes[c]).name]=h.value;for(c in b)if(h=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")a=h;else if(!(c in f)){if(c=="value"&&"defaultValue"in f||c=="checked"&&"defaultChecked"in f)continue;re(e,c,null,h,s)}}for(c in f)h=f[c],c=="children"?_=h:c=="dangerouslySetInnerHTML"?p=h:c=="value"?g=h:c=="checked"?w=h:u&&typeof h!="function"||b[c]===h||re(e,c,h,b[c],s);if(p)u||a&&(p.__html==a.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(a&&(e.innerHTML=""),tt(t.type=="template"?e.content:e,X(_)?_:[_],t,r,i,v=="foreignObject"?"http://www.w3.org/1999/xhtml":s,l,o,l?l[0]:r.__k&&R(r,0),u,d),l!=null)for(c=l.length;c--;)be(l[c]);u||(c="value",v=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[c]||v=="progress"&&!g||v=="option"&&g!=b[c])&&re(e,c,g,b[c],s),c="checked",w!=null&&w!=e[c]&&re(e,c,w,b[c],s))}return e}function xe(e,t,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(s){m.__e(s,r)}}function st(e,t,r){var i,s;if(m.unmount&&m.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||xe(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(l){m.__e(l,t)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&st(i[s],t,r||typeof e.type!="function");r||be(e.__e),e.__c=e.__=e.__e=void 0}function $t(e,t,r){return this.constructor(e,r)}function St(e,t,r){var i,s,l,o;t==document&&(t=document.documentElement),m.__&&m.__(e,t),s=(i=!1)?null:t.__k,l=[],o=[],ye(t,e=t.__k=z(O,null,[e]),s||K,K,t.namespaceURI,s?null:t.firstChild?Z.call(t.childNodes):null,l,s?s.__e:t.firstChild,i,o),nt(l,e,o)}function Pt(e,t,r){var i,s,l,o,u=D({},e.props);for(l in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)l=="key"?i=t[l]:l=="ref"?s=t[l]:u[l]=t[l]===void 0&&o!=null?o[l]:t[l];return arguments.length>2&&(u.children=arguments.length>3?Z.call(arguments,2):r),V(e.type,u,i||e.key,s||e.ref,null)}function Lt(e){function t(r){var i,s;return this.getChildContext||(i=new Set,(s={})[t.__c]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&i.forEach(function(o){o.__e=!0,he(o)})},this.sub=function(l){i.add(l);var o=l.componentWillUnmount;l.componentWillUnmount=function(){i&&i.delete(l),o&&o.call(l)}}),r.children}return t.__c="__cC"+Ze++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,i){return r.children(i)}).contextType=t,t}Z=Xe.slice,m={__e:function(e,t,r,i){for(var s,l,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((l=s.constructor)&&l.getDerivedStateFromError!=null&&(s.setState(l.getDerivedStateFromError(e)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,i||{}),o=s.__d),o)return s.__E=s}catch(u){e=u}throw e}},Ge=0,A.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=D({},this.state),typeof e=="function"&&(e=e(D({},r),this.props)),e&&D(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),he(this))},A.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),he(this))},A.prototype.render=O,j=[],Je=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qe=function(e,t){return e.__v.__b-t.__v.__b},le.__r=0,Ye=/(PointerCapture)$|Capture$/i,ge=0,ue=Pe(!1),_e=Pe(!0),Ze=0;var Et=0;function n(e,t,r,i,s,l){t||(t={});var o,u,d=t;if("ref"in d)for(u in d={},t)u=="ref"?o=t[u]:d[u]=t[u];var c={type:e,props:d,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Et,__i:-1,__u:0,__source:s,__self:l};if(typeof e=="function"&&(o=e.defaultProps))for(u in o)d[u]===void 0&&(d[u]=o[u]);return m.vnode&&m.vnode(c),c}var G,C,ce,Le,J=0,lt=[],P=m,Ee=P.__b,Me=P.__r,He=P.diffed,Ue=P.__c,De=P.unmount,Ne=P.__;function we(e,t){P.__h&&P.__h(C,e,J||t),J=0;var r=C.__H||(C.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function F(e){return J=1,Mt(at,e)}function Mt(e,t,r){var i=we(G++,2);if(i.t=e,!i.__c&&(i.__=[r?r(t):at(void 0,t),function(u){var d=i.__N?i.__N[0]:i.__[0],c=i.t(d,u);d!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=C,!C.__f)){var s=function(u,d,c){if(!i.__c.__H)return!0;var p=i.__c.__H.__.filter(function(_){return!!_.__c});if(p.every(function(_){return!_.__N}))return!l||l.call(this,u,d,c);var a=i.__c.props!==u;return p.forEach(function(_){if(_.__N){var h=_.__[0];_.__=_.__N,_.__N=void 0,h!==_.__[0]&&(a=!0)}}),l&&l.call(this,u,d,c)||a};C.__f=!0;var l=C.shouldComponentUpdate,o=C.componentWillUpdate;C.componentWillUpdate=function(u,d,c){if(this.__e){var p=l;l=void 0,s(u,d,c),l=p}o&&o.call(this,u,d,c)},C.shouldComponentUpdate=s}return i.__N||i.__}function M(e,t){var r=we(G++,3);!P.__s&&ot(r.__H,t)&&(r.__=e,r.u=t,C.__H.__h.push(r))}function Q(e){return J=5,q(function(){return{current:e}},[])}function q(e,t){var r=we(G++,7);return ot(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function oe(e,t){return J=8,q(function(){return e},t)}function Ht(){for(var e;e=lt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(se),e.__H.__h.forEach(fe),e.__H.__h=[]}catch(t){e.__H.__h=[],P.__e(t,e.__v)}}P.__b=function(e){C=null,Ee&&Ee(e)},P.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ne&&Ne(e,t)},P.__r=function(e){Me&&Me(e),G=0;var t=(C=e.__c).__H;t&&(ce===C?(t.__h=[],C.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(se),t.__h.forEach(fe),t.__h=[],G=0)),ce=C},P.diffed=function(e){He&&He(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(lt.push(t)!==1&&Le===P.requestAnimationFrame||((Le=P.requestAnimationFrame)||Ut)(Ht)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ce=C=null},P.__c=function(e,t){t.some(function(r){try{r.__h.forEach(se),r.__h=r.__h.filter(function(i){return!i.__||fe(i)})}catch(i){t.some(function(s){s.__h&&(s.__h=[])}),t=[],P.__e(i,r.__v)}}),Ue&&Ue(e,t)},P.unmount=function(e){De&&De(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(i){try{se(i)}catch(s){t=s}}),r.__H=void 0,t&&P.__e(t,r.__v))};var Ae=typeof requestAnimationFrame=="function";function Ut(e){var t,r=function(){clearTimeout(i),Ae&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(r,35);Ae&&(t=requestAnimationFrame(r))}function se(e){var t=C,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),C=t}function fe(e){var t=C;e.__c=e.__(),C=t}function ot(e,t){return!e||e.length!==t.length||t.some(function(r,i){return r!==e[i]})}function at(e,t){return typeof t=="function"?t(e):t}var Dt={};function ne(e,t){for(var r in t)e[r]=t[r];return e}function Nt(e,t,r){var i,s=/(?:\?([^#]*))?(#.*)?$/,l=e.match(s),o={};if(l&&l[1])for(var u=l[1].split("&"),d=0;d<u.length;d++){var c=u[d].split("=");o[decodeURIComponent(c[0])]=decodeURIComponent(c.slice(1).join("="))}e=me(e.replace(s,"")),t=me(t||"");for(var p=Math.max(e.length,t.length),a=0;a<p;a++)if(t[a]&&t[a].charAt(0)===":"){var _=t[a].replace(/(^:|[+*?]+$)/g,""),h=(t[a].match(/[+*?]+$/)||Dt)[0]||"",g=~h.indexOf("+"),w=~h.indexOf("*"),b=e[a]||"";if(!b&&!w&&(h.indexOf("?")<0||g)){i=!1;break}if(o[_]=decodeURIComponent(b),g||w){o[_]=e.slice(a).map(decodeURIComponent).join("/");break}}else if(t[a]!==e[a]){i=!1;break}return(r.default===!0||i!==!1)&&o}function At(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function Tt(e,t){return e.index=t,e.rank=function(r){return r.props.default?0:me(r.props.path).map(Ft).join("")}(e),e.props}function me(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Ft(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var Wt={},I=[],Te=[],E=null,ct={url:ke()},jt=Lt(ct);function ke(){var e;return""+((e=E&&E.location?E.location:E&&E.getCurrentLocation?E.getCurrentLocation():typeof location<"u"?location:Wt).pathname||"")+(e.search||"")}function dt(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(r){for(var i=I.length;i--;)if(I[i].canRoute(r))return!0;return!1}(e)&&function(r,i){i===void 0&&(i="push"),E&&E[i]?E[i](r):typeof history<"u"&&history[i+"State"]&&history[i+"State"](null,null,r)}(e,t?"replace":"push"),ut(e)}function ut(e){for(var t=!1,r=0;r<I.length;r++)I[r].routeTo(e)&&(t=!0);return t}function It(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),r=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return dt(t)}}function Ot(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function Rt(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(It(t))return Ot(e)}while(t=t.parentNode)}}var Fe=!1;function _t(e){e.history&&(E=e.history),this.state={url:e.url||ke()}}ne(_t.prototype=new A,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=B(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Fe||(Fe=!0,E||addEventListener("popstate",function(){ut(ke())}),addEventListener("click",Rt)),I.push(this),E&&(this.u=E.listen(function(t){var r=t.location||t;e.routeTo(""+(r.pathname||"")+(r.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),I.splice(I.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(Tt).sort(At);for(var r=0;r<e.length;r++){var i=e[r],s=Nt(t,i.props.path,i.props);if(s)return[i,s]}},render:function(e,t){var r,i,s=e.onChange,l=t.url,o=this.c,u=this.g(B(e.children),l);if(u&&(i=Pt(u[0],ne(ne({url:l,matches:r=u[1]},r),{key:void 0,ref:void 0}))),l!==(o&&o.url)){ne(ct,o=this.c={url:l,previous:o&&o.url,current:i,path:i?i.props.path:null,matches:r}),o.router=this,o.active=i?[i]:[];for(var d=Te.length;d--;)Te[d]({});typeof s=="function"&&s(o)}return z(jt.Provider,{value:o},i)}});const Bt=({meta:e,onNavigate:t})=>e.showHeader?n("section",{class:"page-header",children:[n("nav",{class:"breadcrumb","aria-label":"Breadcrumb",children:n("ol",{children:e.breadcrumbs.map((r,i)=>i===e.breadcrumbs.length-1||!r.path?n("li",{"aria-current":"page",children:n("span",{children:r.label})},`${r.label}-${i}`):n("li",{children:[n("button",{type:"button",class:"breadcrumb-link",onClick:()=>t(r.path),children:r.label}),n("span",{class:"breadcrumb-separator","aria-hidden":"true",children:"/"})]},`${r.label}-${i}`))})}),n("div",{class:"page-header-content",children:n("div",{children:[n("h2",{class:"text-lg font-semibold text-slate-900",children:e.title}),n("p",{class:"muted text-sm",children:e.description})]})})]}):null,We=({onNavigate:e})=>n("section",{class:"grid gap-6 md:grid-cols-2",children:[n("div",{class:"card space-y-4",children:[n("div",{children:[n("h2",{class:"section-title",children:"Device Information"}),n("p",{class:"muted text-sm",children:"View device model and firmware details"})]}),n("button",{type:"button",class:"btn-primary w-full justify-center",onClick:()=>e("/device/info"),children:"View device info"})]}),n("div",{class:"card space-y-4",children:[n("div",{children:[n("h2",{class:"section-title",children:"System Metrics"}),n("p",{class:"muted text-sm",children:"Monitor memory and system health"})]}),n("button",{type:"button",class:"btn-primary w-full justify-center",onClick:()=>e("/device/metrics"),children:"View metrics"})]}),n("div",{class:"card space-y-4",children:[n("div",{children:[n("h2",{class:"section-title",children:"Device Logs"}),n("p",{class:"muted text-sm",children:"View real-time device logs"})]}),n("button",{type:"button",class:"btn-primary w-full justify-center",onClick:()=>e("/device/logs"),children:"View logs"})]}),n("div",{class:"card space-y-4",children:[n("div",{children:[n("h2",{class:"section-title",children:"mDNS Configuration"}),n("p",{class:"muted text-sm",children:"Check mDNS settings and status"})]}),n("button",{type:"button",class:"btn-primary w-full justify-center",onClick:()=>e("/device/mdns"),children:"View mDNS"})]}),n("div",{class:"card space-y-4",children:[n("div",{children:[n("h2",{class:"section-title",children:"Wi-Fi Configuration"}),n("p",{class:"muted text-sm",children:"Update Wi-Fi credentials"})]}),n("button",{type:"button",class:"btn-primary w-full justify-center",onClick:()=>e("/wifi"),children:"Configure Wi-Fi"})]})]}),ht=e=>typeof e=="object"&&e!==null,pt=e=>ht(e)&&typeof e.message=="string",Vt=(e,t)=>{const{error:r}=e;return typeof r=="string"&&r.length>0?r:pt(r)?r.message:typeof e.message=="string"&&e.message.length>0?e.message:t},qt=(e,t)=>{if(!e)return t;if(!t)return e;const r=new Headers(e);return new Headers(t).forEach((i,s)=>{r.set(s,i)}),r};function Kt(e,t){if(e===t)return!0;if(!e||!t)return!1;try{return JSON.stringify(e)===JSON.stringify(t)}catch{return!1}}function N(e,t){const[r,i]=F(null),[s,l]=F(null),[o,u]=F(!1),d=Q(null),c=oe(async a=>{var b;(b=d.current)==null||b.abort();const _=new AbortController;d.current=_;const h=(a==null?void 0:a.url)??e,g=qt(t==null?void 0:t.headers,a==null?void 0:a.headers),w={...t,...a,headers:g,signal:_.signal};u(!0),l(null);try{const f=await fetch(h,w);if(!f.ok){let y=`request failed: ${f.status}`;try{const $=await f.json();ht($)&&(y=Vt($,y))}catch($){$ instanceof Error&&console.debug("Failed to parse error response",$)}throw new Error(y)}const v=await f.json();if(!v||typeof v.status!="string")throw new Error("Unexpected API response format");if(v.status!=="success"){const y=v.error,$=typeof y=="string"?y:pt(y)?y.message:"Request failed";throw new Error($)}const k=v.data;return i(y=>Kt(y,k)?y:k),k}catch(f){return f.name==="AbortError"||(console.error(f),l(f instanceof Error?f.message:"Request failed"),i(null)),null}finally{u(!1)}},[t,e]);M(()=>()=>{var a;return(a=d.current)==null?void 0:a.abort()},[]);const p=oe(()=>{var a;(a=d.current)==null||a.abort(),i(null),l(null),u(!1)},[]);return{data:r,error:s,loading:o,execute:c,reset:p}}function Y(e,t={}){const{intervalMs:r=3e3,enabled:i=!0,immediate:s=!0}=t,l=Q(()=>{});M(()=>{l.current=e},[e]);const o=oe(async()=>{await l.current()},[]);return M(()=>{if(!i||typeof window>"u")return()=>{};let u=!0,d;const c=async()=>{if(u)try{await l.current()}finally{u&&(d=window.setTimeout(c,r))}};return s?c():d=window.setTimeout(c,r),()=>{u=!1,d!==void 0&&window.clearTimeout(d)}},[i,s,r]),{refresh:o}}const zt=()=>{const{data:e,loading:t,error:r,execute:i}=N("/api/v1/device"),{data:s,loading:l,error:o,execute:u}=N("/api/v1/metrics"),{data:d,loading:c,error:p,execute:a}=N("/api/v1/mdns"),{data:_,loading:h,error:g,execute:w}=N("/api/v1/logs?limit=1000"),{refresh:b}=Y(()=>w(),{intervalMs:5e3,immediate:!1}),{refresh:f}=Y(()=>u(),{intervalMs:5e3,immediate:!1}),v=(_==null?void 0:_.entries)??[],k=v.length>0,y=h&&!k,$=x=>!Number.isFinite(x)||x<0?"-":x<1024?`${x} B`:x<1024*1024?`${(x/1024).toFixed(1)} KiB`:`${(x/(1024*1024)).toFixed(2)} MiB`,T=s&&s.heap_total>0?Math.round(s.heap_used/s.heap_total*100):0,W=l&&!s;return M(()=>{i(),u(),a(),w()},[i,u,a,w]),n("section",{class:"space-y-6",children:[n("div",{class:"card",children:[n("h2",{class:"section-title",children:"Device Overview"}),t&&n("p",{class:"muted",children:"Loading..."}),r&&n("p",{class:"error-text",children:r}),e&&n("dl",{class:"grid gap-3 text-sm text-slate-700",children:[n("div",{class:"info-row",children:[n("dt",{children:"Model"}),n("dd",{children:e.model})]}),n("div",{class:"info-row",children:[n("dt",{children:"Firmware"}),n("dd",{children:e.firmware_version})]}),n("div",{class:"info-row",children:[n("dt",{children:"Build Time"}),n("dd",{children:e.build_time})]}),n("div",{class:"info-row",children:[n("dt",{children:"ESP-IDF"}),n("dd",{children:e.idf_version})]})]})]}),n("div",{class:"card space-y-4",children:[n("div",{class:"flex items-center justify-between gap-4",children:[n("h2",{class:"section-title",children:"System Metrics"}),n("button",{type:"button",class:"btn-secondary",onClick:()=>{f()},disabled:l,children:"Refresh"})]}),W&&n("p",{class:"muted",children:"Loading..."}),o&&n("p",{class:"error-text",children:o}),s&&n("div",{class:"space-y-5 text-sm text-slate-700",children:n("div",{children:[n("h3",{class:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Heap"}),n("dl",{class:"mt-2 grid gap-3",children:[n("div",{class:"info-row",children:[n("dt",{children:"Total Heap"}),n("dd",{children:$(s.heap_total)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Heap Used"}),n("dd",{children:[$(s.heap_used)," ",n("span",{class:"muted text-xs",children:["(",T,"%)"]})]})]}),n("div",{class:"info-row",children:[n("dt",{children:"Heap Free"}),n("dd",{children:$(s.heap_free)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Minimum Free (Watermark)"}),n("dd",{children:$(s.heap_min_free)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Largest Free Block"}),n("dd",{children:$(s.heap_largest_free_block)})]})]})]})})]}),n("div",{class:"card",children:[n("h2",{class:"section-title",children:"mDNS"}),c&&n("p",{class:"muted",children:"Loading..."}),p&&n("p",{class:"error-text",children:p}),d&&n("dl",{class:"grid gap-3 text-sm text-slate-700",children:[n("div",{class:"info-row",children:[n("dt",{children:"Status"}),n("dd",{children:n("span",{class:`status-pill ${d.running?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:d.running?"Active":"Stopped"})})]}),n("div",{class:"info-row",children:[n("dt",{children:"Hostname"}),n("dd",{children:d.hostname})]}),n("div",{class:"info-row",children:[n("dt",{children:"Instance"}),n("dd",{children:d.instance_name})]}),n("div",{class:"info-row",children:[n("dt",{children:"Service"}),n("dd",{children:d.service_type})]}),n("div",{class:"info-row",children:[n("dt",{children:"Protocol"}),n("dd",{children:d.protocol})]}),n("div",{class:"info-row",children:[n("dt",{children:"Port"}),n("dd",{children:d.port})]}),n("div",{class:"info-row",children:[n("dt",{children:"Access URL"}),n("dd",{children:n("a",{href:`http://${d.hostname}.local/`,target:"_blank",rel:"noopener noreferrer",class:"text-sky-600 underline decoration-sky-400 decoration-2 underline-offset-4 hover:text-sky-700",children:`http://${d.hostname}.local/`})})]})]})]}),n("div",{class:"card space-y-4",children:[n("div",{class:"flex items-center justify-between gap-4",children:[n("h2",{class:"section-title",children:"Device Logs"}),n("div",{class:"flex items-center gap-3",children:[h&&k&&n("span",{class:"text-xs text-slate-500",children:"Updating..."}),n("button",{type:"button",class:"btn-secondary",onClick:()=>{b()},disabled:h,children:"Refresh"})]})]}),y&&n("div",{class:"flex items-center gap-2 text-slate-500",children:n("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-label":"Loading logs",children:[n("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}),n("path",{d:"M21 12a9 9 0 0 0-9-9"})]})}),g&&n("p",{class:"error-text",children:g}),k?n("div",{class:"overflow-hidden rounded border border-slate-200",children:[n("div",{class:"max-h-96 overflow-x-auto overflow-y-auto",children:n("table",{class:"w-full min-w-[560px] table-auto text-left text-sm text-slate-700",children:[n("thead",{children:n("tr",{class:"text-xs uppercase tracking-wide text-slate-500",children:[n("th",{class:"px-3 py-2",children:"Time (ms)"}),n("th",{class:"px-3 py-2",children:"Level"}),n("th",{class:"px-3 py-2",children:"Tag"}),n("th",{class:"px-3 py-2",children:"Message"})]})}),n("tbody",{class:"divide-y divide-slate-200",children:v.map(x=>n("tr",{class:"align-top",children:[n("td",{class:"px-3 py-2 font-mono text-xs text-slate-500",children:x.timestamp_ms}),n("td",{class:"px-3 py-2",children:n("span",{class:`status-pill ${x.level==="error"?"bg-rose-100 text-rose-700":x.level==="warn"?"bg-amber-100 text-amber-700":x.level==="info"?"bg-sky-100 text-sky-700":(x.level==="debug","bg-slate-200 text-slate-600")}`,children:x.level.toUpperCase()})}),n("td",{class:"px-3 py-2 font-mono text-xs text-slate-500",children:x.tag||"-"}),n("td",{class:"px-3 py-2 whitespace-pre-wrap break-words",children:x.message})]},x.id))})]})}),(_==null?void 0:_.has_more)&&n("p",{class:"border-t border-slate-200 px-3 py-2 text-xs text-slate-500",children:["Showing latest ",v.length," entries. More logs are available on the device."]})]}):!h&&n("div",{class:"rounded border border-dashed border-slate-300 bg-slate-50 px-4 py-8 text-center text-sm text-slate-500",children:"Logs will appear here once the device emits output."})]})]})},Gt=()=>{const{data:e,loading:t,error:r,execute:i}=N("/api/v1/device");return M(()=>{i()},[i]),n("section",{class:"space-y-6",children:n("div",{class:"card",children:[n("h2",{class:"section-title",children:"Device Information"}),t&&n("p",{class:"muted",children:"Loading..."}),r&&n("p",{class:"error-text",children:r}),e&&n("dl",{class:"grid gap-3 text-sm text-slate-700",children:[n("div",{class:"info-row",children:[n("dt",{children:"Model"}),n("dd",{children:e.model})]}),n("div",{class:"info-row",children:[n("dt",{children:"Firmware"}),n("dd",{children:e.firmware_version})]}),n("div",{class:"info-row",children:[n("dt",{children:"Build Time"}),n("dd",{children:e.build_time})]}),n("div",{class:"info-row",children:[n("dt",{children:"ESP-IDF"}),n("dd",{children:e.idf_version})]})]})]})})},Jt=()=>{const{data:e,loading:t,error:r,execute:i}=N("/api/v1/metrics"),{refresh:s}=Y(()=>i(),{intervalMs:5e3,immediate:!1}),l=d=>!Number.isFinite(d)||d<0?"-":d<1024?`${d} B`:d<1024*1024?`${(d/1024).toFixed(1)} KiB`:`${(d/(1024*1024)).toFixed(2)} MiB`,o=e&&e.heap_total>0?Math.round(e.heap_used/e.heap_total*100):0,u=t&&!e;return M(()=>{i()},[i]),n("section",{class:"space-y-6",children:n("div",{class:"card space-y-4",children:[n("div",{class:"flex items-center justify-between gap-4",children:[n("h2",{class:"section-title",children:"System Metrics"}),n("button",{type:"button",class:"btn-secondary",onClick:()=>{s()},disabled:t,children:"Refresh"})]}),u&&n("p",{class:"muted",children:"Loading..."}),r&&n("p",{class:"error-text",children:r}),e&&n("div",{class:"space-y-5 text-sm text-slate-700",children:n("div",{children:[n("h3",{class:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Heap"}),n("dl",{class:"mt-2 grid gap-3",children:[n("div",{class:"info-row",children:[n("dt",{children:"Total Heap"}),n("dd",{children:l(e.heap_total)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Heap Used"}),n("dd",{children:[l(e.heap_used)," ",n("span",{class:"muted text-xs",children:["(",o,"%)"]})]})]}),n("div",{class:"info-row",children:[n("dt",{children:"Heap Free"}),n("dd",{children:l(e.heap_free)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Minimum Free (Watermark)"}),n("dd",{children:l(e.heap_min_free)})]}),n("div",{class:"info-row",children:[n("dt",{children:"Largest Free Block"}),n("dd",{children:l(e.heap_largest_free_block)})]})]})]})})]})})},Qt=()=>{const{data:e,loading:t,error:r,execute:i}=N("/api/v1/logs?limit=1000"),{refresh:s}=Y(()=>i(),{intervalMs:5e3,immediate:!1}),l=(e==null?void 0:e.entries)??[],o=l.length>0,u=t&&!o;return M(()=>{i()},[i]),n("section",{class:"space-y-6",children:n("div",{class:"card space-y-4",children:[n("div",{class:"flex items-center justify-between gap-4",children:[n("h2",{class:"section-title",children:"Device Logs"}),n("div",{class:"flex items-center gap-3",children:[t&&o&&n("span",{class:"text-xs text-slate-500",children:"Updating..."}),n("button",{type:"button",class:"btn-secondary",onClick:()=>{s()},disabled:t,children:"Refresh"})]})]}),u&&n("div",{class:"flex items-center gap-2 text-slate-500",children:n("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-label":"Loading logs",children:[n("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}),n("path",{d:"M21 12a9 9 0 0 0-9-9"})]})}),r&&n("p",{class:"error-text",children:r}),o?n("div",{class:"flex flex-col overflow-hidden rounded border border-slate-200",style:"height: calc(100vh - 20rem);",children:[n("div",{class:"flex-1 overflow-x-auto overflow-y-auto",children:n("table",{class:"w-full min-w-[560px] table-auto text-left text-sm text-slate-700",children:[n("thead",{class:"sticky top-0 bg-white",children:n("tr",{class:"text-xs uppercase tracking-wide text-slate-500 border-b border-slate-200",children:[n("th",{class:"px-3 py-2",children:"Time (ms)"}),n("th",{class:"px-3 py-2",children:"Level"}),n("th",{class:"px-3 py-2",children:"Tag"}),n("th",{class:"px-3 py-2",children:"Message"})]})}),n("tbody",{class:"divide-y divide-slate-200",children:l.map(d=>n("tr",{class:"align-top",children:[n("td",{class:"px-3 py-2 font-mono text-xs text-slate-500",children:d.timestamp_ms}),n("td",{class:"px-3 py-2",children:n("span",{class:`status-pill ${d.level==="error"?"bg-rose-100 text-rose-700":d.level==="warn"?"bg-amber-100 text-amber-700":d.level==="info"?"bg-sky-100 text-sky-700":(d.level==="debug","bg-slate-200 text-slate-600")}`,children:d.level.toUpperCase()})}),n("td",{class:"px-3 py-2 font-mono text-xs text-slate-500",children:d.tag||"-"}),n("td",{class:"px-3 py-2 whitespace-pre-wrap break-words",children:d.message})]},d.id))})]})}),(e==null?void 0:e.has_more)&&n("p",{class:"border-t border-slate-200 px-3 py-2 text-xs text-slate-500 bg-white",children:["Showing latest ",l.length," entries. More logs are available on the device."]})]}):!t&&n("div",{class:"rounded border border-dashed border-slate-300 bg-slate-50 px-4 py-8 text-center text-sm text-slate-500",children:"Logs will appear here once the device emits output."})]})})},Yt=()=>{const{data:e,loading:t,error:r,execute:i}=N("/api/v1/mdns");return M(()=>{i()},[i]),n("section",{class:"space-y-6",children:n("div",{class:"card",children:[n("h2",{class:"section-title",children:"mDNS Configuration"}),t&&n("p",{class:"muted",children:"Loading..."}),r&&n("p",{class:"error-text",children:r}),e&&n("dl",{class:"grid gap-3 text-sm text-slate-700",children:[n("div",{class:"info-row",children:[n("dt",{children:"Status"}),n("dd",{children:n("span",{class:`status-pill ${e.running?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-600"}`,children:e.running?"Active":"Stopped"})})]}),n("div",{class:"info-row",children:[n("dt",{children:"Hostname"}),n("dd",{children:e.hostname})]}),n("div",{class:"info-row",children:[n("dt",{children:"Instance"}),n("dd",{children:e.instance_name})]}),n("div",{class:"info-row",children:[n("dt",{children:"Service"}),n("dd",{children:e.service_type})]}),n("div",{class:"info-row",children:[n("dt",{children:"Protocol"}),n("dd",{children:e.protocol})]}),n("div",{class:"info-row",children:[n("dt",{children:"Port"}),n("dd",{children:e.port})]}),n("div",{class:"info-row",children:[n("dt",{children:"Access URL"}),n("dd",{children:n("a",{href:`http://${e.hostname}.local/`,target:"_blank",rel:"noopener noreferrer",class:"text-sky-600 underline decoration-sky-400 decoration-2 underline-offset-4 hover:text-sky-700",children:`http://${e.hostname}.local/`})})]})]})]})})},Zt=({message:e,type:t,onClose:r,durationMs:i=3e3})=>(M(()=>{if(!e)return;const o=window.setTimeout(()=>{r()},i);return()=>window.clearTimeout(o)},[e,i,r]),n("div",{class:`flex items-center gap-3 rounded-full border px-4 py-2 shadow-lg backdrop-blur-md ${t==="success"?"bg-emerald-50/90 border-emerald-200 text-emerald-900":"bg-rose-50/90 border-rose-200 text-rose-900"}`,role:"alert",children:[n("span",{class:"text-sm font-medium",children:e}),n("button",{type:"button",class:"rounded-full px-2 text-lg font-bold text-inherit transition hover:bg-white/40",onClick:r,"aria-label":"Dismiss",children:"Ã—"})]}));function Xt(e,t){for(var r in t)e[r]=t[r];return e}function ve(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function je(e,t){this.props=e,this.context=t}function er(e,t){function r(s){var l=this.props.ref,o=l==s.ref;return!o&&l&&(l.call?l(null):l.current=null),t?!t(this.props,s)||!o:ve(this.props,s)}function i(s){return this.shouldComponentUpdate=r,z(e,s)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=e,i}(je.prototype=new A).isPureReactComponent=!0,je.prototype.shouldComponentUpdate=function(e,t){return ve(this.props,e)||ve(this.state,t)};var Ie=m.__b;m.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ie&&Ie(e)};var tr=m.__e;m.__e=function(e,t,r,i){if(e.then){for(var s,l=t;l=l.__;)if((s=l.__c)&&s.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),s.__c(e,t)}tr(e,t,r,i)};var Oe=m.unmount;function ft(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=Xt({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return ft(i,t,r)})),e}function mt(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return mt(i,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function de(){this.__u=0,this.o=null,this.__b=null}function vt(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ie(){this.i=null,this.l=null}m.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Oe&&Oe(e)},(de.prototype=new A).__c=function(e,t){var r=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(r);var s=vt(i.__v),l=!1,o=function(){l||(l=!0,r.__R=null,s?s(u):u())};r.__R=o;var u=function(){if(!--i.__u){if(i.state.__a){var d=i.state.__a;i.__v.__k[0]=mt(d,d.__c.__P,d.__c.__O)}var c;for(i.setState({__a:i.__b=null});c=i.o.pop();)c.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},de.prototype.componentWillUnmount=function(){this.o=[]},de.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=ft(this.__b,r,i.__O=i.__P)}this.__b=null}var s=t.__a&&z(O,null,e.fallback);return s&&(s.__u&=-33),[z(O,null,t.__a?null:e.children),s]};var Re=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(ie.prototype=new A).__a=function(e){var t=this,r=vt(t.__v),i=t.l.get(e);return i[0]++,function(s){var l=function(){t.props.revealOrder?(i.push(s),Re(t,e,i)):s()};r?r(l):l()}},ie.prototype.render=function(e){this.i=null,this.l=new Map;var t=B(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},ie.prototype.componentDidUpdate=ie.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){Re(e,r,t)})};var rr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,nr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ir=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,sr=/[A-Z0-9]/g,lr=typeof document<"u",or=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};A.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(A.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Be=m.event;function ar(){}function cr(){return this.cancelBubble}function dr(){return this.defaultPrevented}m.event=function(e){return Be&&(e=Be(e)),e.persist=ar,e.isPropagationStopped=cr,e.isDefaultPrevented=dr,e.nativeEvent=e};var ur={enumerable:!1,configurable:!0,get:function(){return this.class}},Ve=m.vnode;m.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,i=t.type,s={},l=i.indexOf("-")===-1;for(var o in r){var u=r[o];if(!(o==="value"&&"defaultValue"in r&&u==null||lr&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var d=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&u===!0?u="":d==="translate"&&u==="no"?u=!1:d[0]==="o"&&d[1]==="n"?d==="ondoubleclick"?o="ondblclick":d!=="onchange"||i!=="input"&&i!=="textarea"||or(r.type)?d==="onfocus"?o="onfocusin":d==="onblur"?o="onfocusout":ir.test(o)&&(o=d):d=o="oninput":l&&nr.test(o)?o=o.replace(sr,"-$&").toLowerCase():u===null&&(u=void 0),d==="oninput"&&s[o=d]&&(o="oninputCapture"),s[o]=u}}i=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=B(r.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),i=="select"&&s.defaultValue!=null&&(s.value=B(r.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),r.class&&!r.className?(s.class=r.class,Object.defineProperty(s,"className",ur)):(r.className&&!r.class||r.class&&r.className)&&(s.class=s.className=r.className),t.props=s}(e),e.$$typeof=rr,Ve&&Ve(e)};var qe=m.__r;m.__r=function(e){qe&&qe(e),e.__c};var Ke=m.diffed;m.diffed=function(e){Ke&&Ke(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value)};const _r=()=>n("span",{class:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-slate-300 border-t-sky-500","aria-hidden":"true"}),gt=er(({apState:e,staState:t,status:r,loading:i,onRefresh:s,summary:l})=>n("div",{class:"card",children:[n("div",{class:"flex items-center justify-between gap-3",children:[n("h2",{class:"section-title !mb-0",children:"Wi-Fi Status"}),i&&n(_r,{})]}),n("p",{class:"text-sm text-slate-600",children:l}),n("div",{class:"mt-4 grid gap-4 md:grid-cols-2",children:[n("div",{class:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[n("div",{class:"flex items-center justify-between",children:[n("h3",{class:"text-sm font-semibold text-slate-800",children:"Access Point"}),n("span",{class:e.badgeClass,children:e.label})]}),n("p",{class:"mt-2 text-sm text-slate-600",children:e.description}),r&&n("dl",{class:"mt-3 space-y-2 text-sm text-slate-700",children:n("div",{class:"info-row",children:[n("dt",{children:"Broadcasting"}),n("dd",{children:r.ap_active?"Yes":"No"})]})})]}),n("div",{class:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[n("div",{class:"flex items-center justify-between",children:[n("h3",{class:"text-sm font-semibold text-slate-800",children:"Station"}),n("span",{class:t.badgeClass,children:t.label})]}),n("p",{class:"mt-2 text-sm text-slate-600",children:t.description}),r&&n("dl",{class:"mt-3 space-y-2 text-sm text-slate-700",children:[n("div",{class:"info-row",children:[n("dt",{children:"Enabled"}),n("dd",{children:r.sta_active?"Yes":"No"})]}),n("div",{class:"info-row",children:[n("dt",{children:"IP Address"}),n("dd",{children:r.ip||"-"})]}),n("div",{class:"info-row",children:[n("dt",{children:"Disconnect Reason"}),n("dd",{children:r.disconnect_reason})]}),n("div",{class:"info-row",children:[n("dt",{children:"Last Error"}),n("dd",{children:r.sta_error||"None"})]})]})]})]}),n("div",{class:"mt-4 flex justify-end",children:n("button",{type:"button",class:"btn-secondary",onClick:s,children:"Refresh"})})]}));gt.displayName="WifiStatusCard";const hr=e=>/^[0-9a-fA-F]+$/.test(e),pr=()=>{const[e,t]=F({ssid:"",passphrase:""}),[r,i]=F(null),[s,l]=F(null),[o,u]=F(!1),{execute:d,loading:c,error:p,reset:a}=N("/api/v1/wifi/credentials",{method:"POST",headers:{"Content-Type":"application/json"}}),{data:_,loading:h,error:g,execute:w}=N("/api/v1/wifi/status",{method:"GET"}),{refresh:b}=Y(()=>w(),{intervalMs:5e3}),f=Q(null),v=Q(null),k=oe((L,H)=>{l({type:L,message:H})},[]);M(()=>{p&&p!==f.current&&(k("error",p),f.current=p),p||(f.current=null)},[p,k]),M(()=>{g&&g!==v.current&&(k("error",g),v.current=g),g||(v.current=null)},[k,g]);const y=q(()=>_?_.sta_connected?_.ip?`Connected to ${_.ip}`:"Connected":_.sta_connecting?"Connecting to network...":_.sta_error&&_.sta_error.length>0?`Connection error: ${_.sta_error}`:"Not connected":h?"Checking Wi-Fi status...":"Status unavailable",[_,h]),$=q(()=>_?_.ap_active?{label:"Active",description:"Device is broadcasting the setup access point.",badgeClass:"status-pill bg-emerald-100 text-emerald-700"}:{label:"Inactive",description:"Soft AP is currently disabled.",badgeClass:"status-pill bg-slate-200 text-slate-600"}:{label:"Unknown",description:"Waiting for status update.",badgeClass:"status-pill bg-slate-200 text-slate-600"},[_]),T=q(()=>_?_.sta_connected?{label:"Connected",description:_.ip?`Client connected with IP ${_.ip}.`:"Client connected to Wi-Fi network.",badgeClass:"status-pill bg-emerald-100 text-emerald-700"}:_.sta_connecting?{label:"Connecting",description:"Attempting to join the configured network...",badgeClass:"status-pill bg-amber-100 text-amber-700"}:_.sta_error&&_.sta_error.length>0?{label:"Error",description:`Last error: ${_.sta_error}.`,badgeClass:"status-pill bg-rose-100 text-rose-700"}:{label:"Not connected",description:"STA client is idle.",badgeClass:"status-pill bg-slate-200 text-slate-600"}:{label:h?"Checking":"Unknown",description:h?"Fetching the latest station status...":"Waiting for status update.",badgeClass:h?"status-pill bg-sky-100 text-sky-600":"status-pill bg-slate-200 text-slate-600"},[_,h]),W=L=>H=>{const S=H.currentTarget;S&&t(U=>({...U,[L]:S.value}))},x=async L=>{L.preventDefault();const H=e.ssid.trim(),S=e.passphrase,U=S.length>=8&&S.length<=63,bt=S.length===64&&hr(S);if(!H){i("Please enter an SSID."),a();return}if(!U&&!bt){i("Password must be 8-63 characters or a 64-digit hex string."),a();return}i(null);try{const ee=await d({body:JSON.stringify({ssid:H,passphrase:S})});if(ee){const{restart_required:Ce,sta_connect_started:yt,sta_error:ae}=ee,te=["Saved credentials."];yt?te.push("Starting STA connection..."):typeof Ce=="boolean"&&Ce&&te.push("Restart is required to apply changes."),ae&&te.push(`Error: ${ae}`),k(ae?"error":"success",te.join(" ")),t({ssid:H,passphrase:S}),b()}}catch(ee){console.error(ee)}};return n(O,{children:[s&&n("div",{class:"fixed inset-x-0 top-4 z-40 flex justify-center px-4",role:"status","aria-live":"polite",children:n(Zt,{message:s.message,type:s.type,onClose:()=>l(null)})}),n("section",{class:"space-y-6",children:[n("div",{class:"card",id:"wifi-settings-panel",children:[n("h2",{class:"section-title",children:"Update Credentials"}),n("form",{class:"grid gap-4",onSubmit:x,children:[n("label",{class:"form-field",children:[n("span",{children:"SSID"}),n("input",{type:"text",value:e.ssid,onInput:W("ssid"),placeholder:"e.g. gateway-ap",required:!0,class:"input"})]}),n("label",{class:"form-field",children:[n("span",{children:"Password"}),n("input",{type:o?"text":"password",value:e.passphrase,onInput:W("passphrase"),placeholder:"8-63 chars or 64-digit hex",minLength:8,maxLength:64,required:!0,class:"input"})]}),n("label",{class:"flex items-center gap-2 text-sm text-slate-600",children:[n("input",{type:"checkbox",checked:o,onChange:()=>u(L=>!L),class:"h-4 w-4"}),"Show password"]}),n("div",{class:"flex items-center justify-end",children:n("button",{type:"submit",disabled:c,class:"btn-primary",children:c?"Saving...":"Save"})})]}),r&&n("p",{class:"error-text",children:r})]}),n(gt,{apState:$,staState:T,status:_,loading:h||c,onRefresh:b,summary:y})]})]})},fr=[{path:"/",label:"Home"},{path:"/device/info",label:"Device Info"},{path:"/device/metrics",label:"Metrics"},{path:"/device/logs",label:"Logs"},{path:"/device/mdns",label:"mDNS"},{path:"/wifi",label:"Wi-Fi"}],ze=e=>{if(!e)return"/";const[t]=e.split("?");return t.length>1&&t.endsWith("/")?t.slice(0,-1):t||"/"},mr={"/device":{showHeader:!0,title:"Device",description:"View device details",breadcrumbs:[{label:"Home",path:"/"},{label:"Device"}]},"/device/info":{showHeader:!0,title:"Device Information",description:"View device model and firmware details",breadcrumbs:[{label:"Home",path:"/"},{label:"Device Info"}]},"/device/metrics":{showHeader:!0,title:"System Metrics",description:"Monitor memory and system health",breadcrumbs:[{label:"Home",path:"/"},{label:"Metrics"}]},"/device/logs":{showHeader:!0,title:"Device Logs",description:"View real-time device logs",breadcrumbs:[{label:"Home",path:"/"},{label:"Logs"}]},"/device/mdns":{showHeader:!0,title:"mDNS Configuration",description:"Check mDNS settings and status",breadcrumbs:[{label:"Home",path:"/"},{label:"mDNS"}]},"/wifi":{showHeader:!0,title:"Wi-Fi",description:"Update Wi-Fi credentials",breadcrumbs:[{label:"Home",path:"/"},{label:"Wi-Fi"}]}},vr={showHeader:!1,title:"",description:"",breadcrumbs:[]};function gr(){const[e,t]=F(()=>typeof window<"u"?window.location.pathname:"/"),[r,i]=F(!1),s=Q(null);M(()=>{const c=a=>{s.current&&a.target instanceof Node&&!s.current.contains(a.target)&&i(!1)},p=a=>{a.key==="Escape"&&i(!1)};return document.addEventListener("click",c),document.addEventListener("keydown",p),()=>{document.removeEventListener("click",c),document.removeEventListener("keydown",p)}},[]);const l=c=>{t(ze(c.url??"/")),i(!1)},o=c=>{dt(c),i(!1)},u=ze(e),d=mr[u]??vr;return n("div",{class:"min-h-screen bg-slate-100 text-slate-900",children:[n("header",{class:"bg-white/95 shadow-sm",children:n("div",{class:"mx-auto flex w-full max-w-4xl items-center justify-between px-4 py-4",children:[n("h1",{class:"text-xl font-semibold text-slate-900",children:"ESP Gateway"}),n("nav",{class:"relative",ref:s,children:[n("button",{type:"button",class:"menu-toggle","aria-haspopup":"true","aria-expanded":r,"aria-label":"Open navigation",onClick:c=>{c.stopPropagation(),i(p=>!p)},children:n("span",{class:"menu-icon","aria-hidden":"true",children:[n("span",{}),n("span",{}),n("span",{})]})}),r&&n("div",{class:"menu-sheet",role:"menu",children:fr.map(c=>n("button",{type:"button",role:"menuitem",class:`menu-item${u===c.path?" menu-item-active":""}`,onClick:p=>{p.stopPropagation(),o(c.path)},children:c.label},c.path))})]})]})}),n("main",{class:"mx-auto w-full max-w-4xl space-y-6 px-4 py-8",children:[n(Bt,{meta:d,onNavigate:o}),n(_t,{onChange:l,children:[n(We,{path:"/",onNavigate:o}),n(zt,{path:"/device"}),n(Gt,{path:"/device/info"}),n(Jt,{path:"/device/metrics"}),n(Qt,{path:"/device/logs"}),n(Yt,{path:"/device/mdns"}),n(pr,{path:"/wifi"}),n(We,{default:!0,onNavigate:o})]})]})]})}async function br(){}br().then(()=>{St(n(gr,{}),document.getElementById("root"))});
